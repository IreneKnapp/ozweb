{
  "id": "b1a8f23b-2c5d-4c46-8a06-3ee8c095d203",
  "version": "1357238210",
  
  "entity_templates": {
    "normal": {
      "template": null,
      "versioned": true,
      "timestamped": true,
      "key": [{
        "name": [{
          "type": "variable",
          "name": "entity"
        }, {
          "type": "constant",
          "value": "_id"
        }],
        "type": "uuid"
      }],
      "columns": [],
      "relations": []
    },
    "relation": {
      "template": "normal",
      "versioned": false,
      "timestamped": false,
      "key": []
    },
    "reference": {
      "template": "normal",
      "versioned": false,
      "timestamped": false,
      "columns": [{
        "name": "name",
        "type": "text"
      }, {
        "name": "memo",
        "type": ["maybe", "text"]
      }]
    },
    "account": {
      "template": "normal",
      "versioned": false
    },
    "hierarchical": {
      "template": "reference",
      "columns": [{
        "name": "name_path",
        "type": ["array", "text"],
        "concrete_path_of": "name"
      }]
    }
  },
  
  "entities": {
    "category": {
      "template": "hierarchical",
      "versioned": true
    },
    "categorization": {
      "template": "relation",
      "key": [{
        "name": "content_id",
        "type": "uuid"
      }],
      "relations": [{
        "entity": "category",
        "purpose": null,
        "required": true,
        "unique": true
      }]
    },
    "person": {
      "template": "account",
      "columns": [{
        "name": "password",
        "type": "password"
      }],
      "relations": [{
        "entity": "email",
        "purpose": "primary",
        "required": true,
        "unique": false
      }]
    },
    "email": {
      "template": "account",
      "key": [{
        "name": "email",
        "type": "email"
      }],
      "relations": [{
        "entity": "person",
        "purpose": null,
        "required": true,
        "unique": false
      }]
    },
    "image_format": {
      "template": "reference"
    },
    "image": {
      "template": "normal",
      "columns": [{
        "name": "width",
        "type": "integer"
      }, {
        "name": "height",
        "type": "integer"
      }, {
        "name": "data",
        "type": "blob"
      }],
      "relations": [{
        "entity": "content",
        "purpose": null,
        "required": true,
        "unique": true,
        "key": ["image_id"]
      }, {
        "entity": "image_format",
        "purpose": null,
        "required": true,
        "unique": false
      }]
    }
  }
}
